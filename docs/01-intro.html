<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.450">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Analyse et modélisation d’agroécosystèmes sur R - 1&nbsp; Introduction</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./02-R.html" rel="next">
<link href="./index.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="styles.css">
</head>

<body class="nav-sidebar floating">


<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
      <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./01-intro.html"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Introduction</span></a></li></ol></nav>
      <a class="flex-grow-1" role="button" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
      </a>
      <button type="button" class="btn quarto-search-button" aria-label="" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">Analyse et modélisation d’agroécosystèmes sur R</a> 
        <div class="sidebar-tools-main">
    <a href="https://github.com/afsilvad/ecologie-mathematique-R" rel="" title="Source Code" class="quarto-navigation-tool px-1" aria-label="Source Code"><i class="bi bi-github"></i></a>
</div>
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Préface</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./01-intro.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Introduction</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./02-R.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">La science des données avec R</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./03-tableaux.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Organisation des données et opérations sur des tableaux</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./04-visualisation.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Visualisation</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./05-github.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Science ouverte et reproductibilité</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./06-python.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Introduction à Python (facultatif)</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./07a-biostats.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Biostatistiques</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./07b-bayes.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Introduction à l’analyse bayésienne en écologie</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./08-regression.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">Régression</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./09-explorer.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">Explorer R</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./10-ordination.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">11</span>&nbsp; <span class="chapter-title">Association, partitionnement et ordination</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./11-imputation.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">12</span>&nbsp; <span class="chapter-title">Détection de valeurs aberrantes et imputation de données manquantes</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./12-series-temporelles.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">13</span>&nbsp; <span class="chapter-title">Les séries temporelles</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./13-autoapprentissage.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">14</span>&nbsp; <span class="chapter-title">Introduction à l’autoapprentissage</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./14-donnees-spatiales.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">15</span>&nbsp; <span class="chapter-title">Les données géospatiales</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./15-modelisation.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">16</span>&nbsp; <span class="chapter-title">Modélisation de mécanismes écologiques</span></span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#définitions" id="toc-définitions" class="nav-link active" data-scroll-target="#définitions"><span class="header-section-number">1.1</span> Définitions</a></li>
  <li><a href="#à-qui-sadresse-ce-manuel" id="toc-à-qui-sadresse-ce-manuel" class="nav-link" data-scroll-target="#à-qui-sadresse-ce-manuel"><span class="header-section-number">1.2</span> À qui s’adresse ce manuel?</a></li>
  <li><a href="#les-logiciels-libres" id="toc-les-logiciels-libres" class="nav-link" data-scroll-target="#les-logiciels-libres"><span class="header-section-number">1.3</span> Les logiciels libres</a></li>
  <li><a href="#langage-de-programmation" id="toc-langage-de-programmation" class="nav-link" data-scroll-target="#langage-de-programmation"><span class="header-section-number">1.4</span> Langage de programmation</a>
  <ul class="collapse">
  <li><a href="#r" id="toc-r" class="nav-link" data-scroll-target="#r"><span class="header-section-number">1.4.1</span> R</a></li>
  <li><a href="#pourquoi-pas-python" id="toc-pourquoi-pas-python" class="nav-link" data-scroll-target="#pourquoi-pas-python"><span class="header-section-number">1.4.2</span> Pourquoi pas Python?</a></li>
  <li><a href="#pourquoi-pas-matlab" id="toc-pourquoi-pas-matlab" class="nav-link" data-scroll-target="#pourquoi-pas-matlab"><span class="header-section-number">1.4.3</span> Pourquoi pas Matlab?</a></li>
  <li><a href="#et-sas" id="toc-et-sas" class="nav-link" data-scroll-target="#et-sas"><span class="header-section-number">1.4.4</span> Et… SAS?</a></li>
  <li><a href="#mais-pourquoi-pas-______" id="toc-mais-pourquoi-pas-______" class="nav-link" data-scroll-target="#mais-pourquoi-pas-______"><span class="header-section-number">1.4.5</span> Mais pourquoi pas ______ ?</a></li>
  </ul></li>
  <li><a href="#contenu-du-manuel" id="toc-contenu-du-manuel" class="nav-link" data-scroll-target="#contenu-du-manuel"><span class="header-section-number">1.5</span> Contenu du manuel</a></li>
  <li><a href="#objectifs-généraux" id="toc-objectifs-généraux" class="nav-link" data-scroll-target="#objectifs-généraux"><span class="header-section-number">1.6</span> Objectifs généraux</a></li>
  <li><a href="#lectures-complémentaires" id="toc-lectures-complémentaires" class="nav-link" data-scroll-target="#lectures-complémentaires"><span class="header-section-number">1.7</span> Lectures complémentaires</a>
  <ul class="collapse">
  <li><a href="#écologie-mathématique" id="toc-écologie-mathématique" class="nav-link" data-scroll-target="#écologie-mathématique"><span class="header-section-number">1.7.1</span> Écologie mathématique</a></li>
  <li><a href="#programmation" id="toc-programmation" class="nav-link" data-scroll-target="#programmation"><span class="header-section-number">1.7.2</span> Programmation</a></li>
  <li><a href="#divers" id="toc-divers" class="nav-link" data-scroll-target="#divers"><span class="header-section-number">1.7.3</span> Divers</a></li>
  </ul></li>
  <li><a href="#besoin-daide" id="toc-besoin-daide" class="nav-link" data-scroll-target="#besoin-daide"><span class="header-section-number">1.8</span> Besoin d’aide?</a></li>
  <li><a href="#à-propos-de-lauteur" id="toc-à-propos-de-lauteur" class="nav-link" data-scroll-target="#à-propos-de-lauteur"><span class="header-section-number">1.9</span> À propos de l’auteur</a></li>
  <li><a href="#un-cours-complémentaire-à-dautres-cours" id="toc-un-cours-complémentaire-à-dautres-cours" class="nav-link" data-scroll-target="#un-cours-complémentaire-à-dautres-cours"><span class="header-section-number">1.10</span> Un cours complémentaire à d’autres cours</a></li>
  <li><a href="#contribuer-au-manuel" id="toc-contribuer-au-manuel" class="nav-link" data-scroll-target="#contribuer-au-manuel"><span class="header-section-number">1.11</span> Contribuer au manuel</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title"><span id="sec-intro" class="quarto-section-identifier"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Introduction</span></span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<p>En développant son jeu de la vie (<em>game of life</em>) en 1970, John Horton Connway a présenté un exemple percutant que des règles simples peuvent mener à des résultats inattendus. Le jeu consiste à placer des jetons sur les cases d’un plateau de jeu consistant en une simple grille orthogonale. Le jeu évolue en fonction du nombre de jetons présents parmi les huit cases du voisinage des jetons ou des cases vides.</p>
<ol type="1">
<li>Les jetons ayant 0 ou 1 voisin sont retirés.</li>
<li>Les jetons ayant 2 ou 3 voisins restent intacts</li>
<li>Les jetons ayant plus de 3 voisins sont retirés</li>
<li>Un jeton est posé sur les cases ayant exactement 3 voisins</li>
</ol>
<p>C’est tout. Selon la manière dont les jetons sont placés au départ, il se peut que la grille se vide de ses jetons, ou que les jetons y prennent beaucoup de place. Il arrive aussi que des cycles réguliers se dégagent ou que l’on se retrouve avec des formes régulières. Vous aurez peut-être compris à ce stade pourquoi le jeu est appelé “jeu de la vie”. La première règle est une situation localisée de sous-population, condition dans laquelle la reproduction est difficile. La deuxième règle est une situation localisée stable. La troisième est une situation de surpopulation, où des individus meurent dans un environnement rendu inadéquat par une insuffisance de ressource ou une toxicité excessive. Enfin, la quatrième règle indique une situation favorable à la reproduction.</p>
<p>Une grille vidée correspond à une extinction et une grille remplie correspond à une explosion de population. Une oscillation est un “climax”, un état stable en écologie. Un léger changement dans la disposition initiale des jetons peut mener à des solutions différentes.</p>
<p>Le jeu est une application de la technique des <em>automates cellulaires</em>. Il se complexifie à mesure que le nombre de jetons grandit. Un humain passera des heures à calculer une seule ronde à 50 jetons, commettra probablement quelques erreurs et prendra quelques cafés. Un processeur pourra gérer des centaines de rondes sur des grilles de centaines de jetons en quelques secondes.</p>
<p>En établissant des règles correspondant aux mécanismes de l’objet étudié, il devient possible de modéliser l’évolution des systèmes vivants, comme l’émergence ou le déclin d’espèces. La <a href="#fig-index-cellular-automata">Figure&nbsp;<span>1.1</span></a> présente un cas simple d’automates cellularies généré dans le langage de programmation R.</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div id="fig-index-cellular-automata" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="images/01_conway.gif" class="img-fluid figure-img" style="width:50.0%"></p>
<figcaption class="figure-caption">Figure&nbsp;1.1: Simulation avec automates cellulaires <a href="https://www.r-bloggers.com/fast-conways-game-of-life-in-r/">générés en R</a>.</figcaption>
</figure>
</div>
</div>
</div>
<section id="définitions" class="level2" data-number="1.1">
<h2 data-number="1.1" class="anchored" data-anchor-id="définitions"><span class="header-section-number">1.1</span> Définitions</h2>
<p>Les mathématiques confèrent aux humains une capacité d’abstraction suffisamment complexe pour leur permettre de toucher les étoiles et les atomes, de comprendre le passé et de prédire le futur, de toucher l’infini et de goûter à l’éternité. À partir des maths, on a pu créer des outils de calcul qui permettent de projeter des images de l’univers, bien au-delà de la Voie lactée. Mais appréhender le vivant, tout près de nous, demeure une tâche complexe.</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div id="fig-index-ecologie-mathematique" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="images/01_disciplines.png" class="img-fluid figure-img" style="width:40.0%"></p>
<figcaption class="figure-caption">Figure&nbsp;1.2: Domaines scientifiques de l’écologie mathématique.</figcaption>
</figure>
</div>
</div>
</div>
<p>L’écologie mathématique couvre un large spectre de domaines (<a href="#fig-index-ecologie-mathematique">Figure&nbsp;<span>1.2</span></a>), mais peut être divisée en deux branches: l’<strong>écologie théorique</strong> et l’<strong>écologie quantitative</strong> (<a href="https://www.elsevier.com/books/numerical-ecology/legendre/978-0-444-53868-0">Legendre et Legendre, 2012</a>). Alors que l’écologie théorique s’intéresse à l’expression mathématique des mécanismes écologiques, l’écologie quantitative, plus empirique, en étudie principalement les phénomènes. La <strong>modélisation écologique</strong> vise à prévoir une situation selon des conditions données. Faisant partie à la fois de l’écologie théorique et de l’écologie quantitative, elle superpose souvent des mécanismes de l’écologie théorique et des phénomènes empiriques de l’écologie quantitative. L’<strong>écologie numérique</strong> comprend la branche descriptive de l’écologie quantitative, c’est-à-dire qu’elle s’intéresse à évaluer des effets à partir de données empiriques. L’exploration des données dans le but d’y découvrir des structures passe souvent par des techniques multivariées comme la classification hiérarchique ou la réduction d’axe (par exemple, l’analyse en composantes principales), qui sont davantage heuristiques (dans notre cas, <strong>bioheuristique</strong>) que statistiques. Les tests d’hypothèses et l’analyse des probabilités, quant à eux, relèvent de la <strong>biostatistique</strong>.</p>
<p>Le <strong>génie écologique</strong>, une discipline intimement liée à l’écologie mathématique, est voué à l’analyse, la modélisation, la conception et la construction de systèmes vivants dans le but de résoudre de manière efficace des problèmes liés à l’écologie et à une panoplie de domaines qui lui sont raccordés. L’agriculture est l’un de ces domaines. C’est d’emblée la discipline qui sera prisée dans ce manuel. Néanmoins, les principes qui seront discutés sont transférables à l’écologie générale.</p>
</section>
<section id="à-qui-sadresse-ce-manuel" class="level2" data-number="1.2">
<h2 data-number="1.2" class="anchored" data-anchor-id="à-qui-sadresse-ce-manuel"><span class="header-section-number">1.2</span> À qui s’adresse ce manuel?</h2>
<p>Le cours vise à introduire des étudiant.e.s gradué.e.s en agronomie, biologie, écologie, sols, génie agroenvironnemental, génie civil et génie écologique à l’analyse et la modélisation dans leur domaine, tant pour les appuyer pour leurs travaux de recherche que pour leur fournir une trousse d’outils émancipatrice pour leur cheminement professionnel. Plus spécifiquement, vous serez accompagné à découvrir différents outils numériques qui vous permettront d’appréhender vos données, d’en faire émerger l’information et de construire des modèles. L’objectif de ce cours n’est pas de vous former en mathématiques, mais de vous aider à les utiliser. En ce sens, <strong>c’est un cours de pilotage, pas un cours de mécanique</strong>. Vous ferez tout de même un peu de mécanique pour mieux comprendre les réactions de notre machine.</p>
<p>Bien que des connaissances en programmation et en statistiques aideront grandement les étudiant.e.s à appréhender ce document, une littératie informatique n’est pas requise. Dans tous les cas, quiconque voudra tirer profit de ce manuel devra faire preuve d’autonomie. Vous serez guidés vers des ressources et des références, mais je vous suggère vivement de développer votre propre bibliothèque adaptée à vos besoins et à votre manière de comprendre.</p>
</section>
<section id="les-logiciels-libres" class="level2" data-number="1.3">
<h2 data-number="1.3" class="anchored" data-anchor-id="les-logiciels-libres"><span class="header-section-number">1.3</span> Les logiciels libres</h2>
<p>Tous les outils numériques qui sont proposés dans ce cours sont des logiciels libres:</p>
<blockquote class="blockquote">
<p>« Logiciel libre » [free software] désigne des logiciels qui respectent la liberté des utilisateurs. En gros, cela veut dire que les utilisateurs ont la liberté d’exécuter, copier, distribuer, étudier, modifier et améliorer ces logiciels. Ainsi, « logiciel libre » fait référence à la liberté, pas au prix1 (pour comprendre ce concept, vous devez penser à « liberté d’expression », pas à « entrée libre »). - <a href="https://www.gnu.org/philosophy/free-sw.fr.html">Projet GNU</a></p>
</blockquote>
<p>Donc: codes sources ouverts, développement souvent communautaire, gratuité. Plusieurs <a href="https://www.youtube.com/watch?v=Ag1AKIl_2GM">raisons éthiques</a>, principalement liées au contrôle de l’environnement virtuel par les utilisateurs et les communautés, peuvent justifier l’utilisation de logiciels libres. Plusieurs raisons pratiques justifient aussi cette orientation. Les logiciels libres vous permettent de transporter vos outils avec vous, d’une entreprise à l’autre, au bureau, ou à la maison, et ce, sans vous soucier d’acheter de coûteuses licences.</p>
<p>Il existe tout de même des risques liés aux possibles erreurs dans les codes des logiciels communautaires. Ces risques sont d’ailleurs les mêmes que ceux liés aux logiciels propriétaires. Pour les scientifiques, une erreur peut mener à une étude retirée de la littérature et même, potentiellement, des politiques publiques mal avisées. Pour les ingénieurs, les conséquences pourraient être dramatiques. Mais retenez qu’en toute circonstance, <strong>comme professionnel.le, vous êtes responsable des outils que vous utilisez: vous devez vous assurer de la bonne qualité d’un logiciel, qu’il soit propriétaire ou communautaire</strong>.</p>
<p>Alors que la qualité des logiciels propriétaires est généralement suivie par audits, celle des logiciels libres est plutôt soumise à la vigilance communautaire. Chaque approche a ses avantages et inconvénients, mais elles ne sont pas exclusives. Ainsi, les logiciels libres peuvent être audités à l’externe par quiconque décide de le faire. Différentes entreprises, souvent concurrentes, participent tant à cette vigilance qu’au développement des logiciels libres: elles en sont même souvent les instigatrices (comme <a href="https://www.rstudio.com/">RStudio</a>, <a href="https://www.anaconda.com/">Anaconda</a> et <a href="https://www.enthought.com/">Enthought</a>).</p>
<p>Par ailleurs, ce manuel est distribué librement sous licence Creative commons, selon les termes suivants.</p>
<p xmlns:cc="http://creativecommons.org/ns#" xmlns:dct="http://purl.org/dc/terms/">
</p><p><a property="dct:title" rel="cc:attributionURL" href="https://essicolo.github.io/ecologie-mathematique-R/">Analyse et modélisation d’agroécosystèmes</a> de <a rel="cc:attributionURL dct:creator" property="cc:attributionName" href="https://github.com/essicolo/ecologie-mathematique-R/">Serge-Étienne Parent</a> est mis à disposition selon les termes de la <a href="http://creativecommons.org/licenses/by-nc-sa/4.0/?ref=chooser-v1" target="_blank" rel="license noopener noreferrer" style="display:inline-block;">licence Creative Commons Attribution - Pas d’Utilisation Commerciale - Partage dans les Mêmes Conditions 4.0 International<img src="https://mirrors.creativecommons.org/presskit/icons/cc.svg?ref=chooser-v1" style="height:22px!important;margin-left:3px;vertical-align:text-bottom;"><img src="https://mirrors.creativecommons.org/presskit/icons/by.svg?ref=chooser-v1" style="height:22px!important;margin-left:3px;vertical-align:text-bottom;"><img src="https://mirrors.creativecommons.org/presskit/icons/nc.svg?ref=chooser-v1" style="height:22px!important;margin-left:3px;vertical-align:text-bottom;"><img src="https://mirrors.creativecommons.org/presskit/icons/sa.svg?ref=chooser-v1" style="height:22px!important;margin-left:3px;vertical-align:text-bottom;"></a></p>
<p></p>
<p>Fondé(e) sur une œuvre à <a href="https://github.com/essicolo/ecologie-mathematique-R/" class="uri">https://github.com/essicolo/ecologie-mathematique-R/</a>.</p>
</section>
<section id="langage-de-programmation" class="level2" data-number="1.4">
<h2 data-number="1.4" class="anchored" data-anchor-id="langage-de-programmation"><span class="header-section-number">1.4</span> Langage de programmation</h2>
<section id="r" class="level3" data-number="1.4.1">
<h3 data-number="1.4.1" class="anchored" data-anchor-id="r"><span class="header-section-number">1.4.1</span> R</h3>
<p>Ce cours est basé sur le langage <a href="https://www.r-project.org/">R</a>. En plus d’être libre, R est un langage de programmation dynamique largement utilisé dans le monde universitaire, et dont l’utilisation s’étend de manière soutenue hors des tours d’ivoire.</p>
<blockquote class="blockquote">
<p>R is also the name of a popular programming language used by a growing number of data analysts inside corporations and academia. It is becoming their lingua franca partly because data mining has entered a golden age, whether being used to set ad prices, find new drugs more quickly or fine-tune financial models. <a href="https://www.nytimes.com/2009/01/07/technology/business-computing/07program.html">New York Times, janvier 2009</a></p>
</blockquote>
<p>Son développement est supporté par la <a href="https://www.r-project.org/foundation/">R Foundation for Statistical Computing</a>, basée à l’Université de Vienne. Également, l’équipe de <a href="https://www.rstudio.com/">RStudio</a> contribue largement au <a href="https://www.rstudio.com/products/rpackages/">développement de modules génériques</a>. R est principalement utilisé pour le calcul statistique, mais les récents développements le rendent un outil de choix pour tout ce qui entoure la science des données, de l’interaction avec les bases de données au déploiement d’outils d’intelligence artificielle en passant par la visualisation. Une fois implémenté avec des modules de calcul scientifique spécialisés en biologie, en écologie et en agronomie (que nous couvrirons au long du cours), R devient un outil de calcul convivial, rapide et fiable.</p>
</section>
<section id="pourquoi-pas-python" class="level3" data-number="1.4.2">
<h3 data-number="1.4.2" class="anchored" data-anchor-id="pourquoi-pas-python"><span class="header-section-number">1.4.2</span> Pourquoi pas Python?</h3>
<p>La <a href="https://github.com/essicolo/ecologie-mathematique-Py">première mouture de ce cours</a> se fondait sur le langage Python. Tout comme R, Python est un langage de programmation dynamique prisé pour le calcul scientifique. Python est un langage générique apprécié pour sa polyvalence et sa simplicité. Python est utilisé autant pour créer des logiciels ou des sites web que pour le calcul scientifique. Ainsi, Python peut être utilisé en interopérabilité avec une panoplie de logiciels libres, comme <a href="http://www.qgis.org">QGIS</a> pour la cartographie et <a href="https://github.com/FreeCAD/FreeCAD">FreeCAD</a> pour le dessin technique. Il est particulièrement apprécié en ingénierie pour ses modules de calcul par éléments finis (e.g.&nbsp;<a href="https://fenicsproject.org/">FeNICS</a>) et en bioinformatique pour ses outils liés au séquençage (<a href="http://scikit-bio.org/">scikit-bio</a>), mais ses lacunes en analyse statistique, en particulier en statistiques multivariées m’ont amené à favoriser R.</p>
<p>Bien que leurs possibilités se superposent largement, ce serait une erreur d’aborder R et Python comme des langages rivaux. Les deux langages s’expriment de manière similaire et s’inspirent mutuellement: apprendre à travailler avec l’un revient à apprendre l’autre. Les spécialistes en calcul scientifique tendent à apprendre à travailler avec plus d’un langage de programmation. Par ailleurs, il existe de plus en plus des moyens de travailler en R et en Python dans un même flux de travail. L’interface de calcul RStudio, que nous utiliserons pendant le cours, permet d’inclure des blocs de code en Python.</p>
<p>Dans la version mise à jour du manuel, une courte introduction facultative à Python est proposée.</p>
</section>
<section id="pourquoi-pas-matlab" class="level3" data-number="1.4.3">
<h3 data-number="1.4.3" class="anchored" data-anchor-id="pourquoi-pas-matlab"><span class="header-section-number">1.4.3</span> Pourquoi pas Matlab?</h3>
<p>Parce qu’on est en 2024.</p>
</section>
<section id="et-sas" class="level3" data-number="1.4.4">
<h3 data-number="1.4.4" class="anchored" data-anchor-id="et-sas"><span class="header-section-number">1.4.4</span> Et… SAS?</h3>
<p>Parce qu’on est à l’université.</p>
</section>
<section id="mais-pourquoi-pas-______" class="level3" data-number="1.4.5">
<h3 data-number="1.4.5" class="anchored" data-anchor-id="mais-pourquoi-pas-______"><span class="header-section-number">1.4.5</span> Mais pourquoi pas ______ ?</h3>
<p>D’autres langages, comme <a href="http://julialang.org">Julia</a>, <a href="http://www.scala-lang.org">Scala</a>, <a href="https://dtabio.gitbooks.io/data-science-with-javascript/content/">Javascript</a> et même <a href="http://sciruby.com">Ruby</a> sont utilisés en calcul scientifique. Ils sont néanmoins moins garnis et moins documentés que R. Des langages de plus bas niveau, comme Fortran et C++, viennent souvent appuyer les fonctions des autres langages: ces langages sont plus ardus à utiliser au jour le jour, mais leur rapidité de calcul est imbattable.</p>
</section>
</section>
<section id="contenu-du-manuel" class="level2" data-number="1.5">
<h2 data-number="1.5" class="anchored" data-anchor-id="contenu-du-manuel"><span class="header-section-number">1.5</span> Contenu du manuel</h2>
<p>Je favorise une l’approche intuitive aux développements mathématiques. Nous aborderons l’analyse et la modélisation inférentielle, prédictive et mécanistique appliquée aux agroécosystèmes.</p>
<p><strong><a href="02-R.html">Chapitre&nbsp;<span>2</span></a> - Introduction au langage de programmation R</strong>. Qu’est-ce que R? Comment l’aborder? Quelles sont les fonctionnalités de base et comment tirer profit de tout l’écosystème de programmation?</p>
<p><strong><a href="03-tableaux.html">Chapitre&nbsp;<span>3</span></a> - Organisation des données et opérations sur des tableaux</strong>. Les tableaux permettent d’enchâsser l’information dans un format prêt-à-porter pour R. Comment les importer, les exporter, les filtrer, et en faire des sommaires?</p>
<p><strong><a href="04-visualisation.html">Chapitre&nbsp;<span>4</span></a> - Visualisation</strong>. Comment présenter l’information contenue dans un long tableau en un seul coup d’oeil?</p>
<p><strong><a href="05-github.html">Chapitre&nbsp;<span>5</span></a> - Le travail collaboratif, le suivi de version et la science ouverte</strong>. Ce chapitre offre une introduction à l’utilisation des outils de calcul collaboratif, ainsi qu’un aperçu du système de suivi de version <em>git</em> et de son utilisation sur <a href="https://github.com/">GitHub</a>.</p>
<p><strong><a href="06-python.html">Chapitre&nbsp;<span>6</span></a> - Biostatistiques (section facultative)</strong>. Une très brève introduction au langage de programmation <em>Python</em>. Ce contenu est externe au cours et est là pour vous fournir des références si vous souhaitez explorer ce langage dans le futur.</p>
<p><strong><a href="07a-biostats.html">Chapitre&nbsp;<span>7</span></a> - Biostatistiques</strong>. Il est audacieux de ne consacrer qu’un seul chapitre sur ce vaste sujet. Nous irons à l’essentiel… pour vous donner les outils qui permettront d’approfondir le sujet.</p>
<p><strong><a href="07b-bayes.html">Chapitre&nbsp;<span>8</span></a> - Biostatistiques bayésiennes (section facultative)</strong>. Une très brève introduction pour qui est intéressé à l’analyse bayésienne.</p>
<p><strong><a href="08-regression.html">Chapitre&nbsp;<span>9</span></a> - Régression</strong>. À venir.</p>
<p><strong><a href="09-explorer.html">Chapitre&nbsp;<span>10</span></a> - Explorer R</strong>. La science des données évolue rapidement. Vous gagnerez à vous tenir au courrant de son évolution, et immanquablement vous vous buterez sur des opérations qui vous sembleront insolubles. Ce chapitre vous accompagnera à rester à jour sur le développement de R, à poser de bonnes questions et proposera des modules intéressants en écologie mathématique.</p>
<p><strong><a href="10-ordination.html">Chapitre&nbsp;<span>11</span></a> - Association, partitionnement et ordination</strong>. Les écosystèmes diffèrent, mais en quoi sont-ils semblables, et en quoi dffèrent-ils? Ces questions importantes peuvent être abordés par l’écologie numérique, domaine d’étude au sein duquel l’association, le partitionnement et l’ordination sont des outils prédominants.</p>
<p><strong><a href="11-imputation.html">Chapitre&nbsp;<span>12</span></a> - Détection de valeurs aberrantes et imputation</strong>. Une donnée aberrante sortira du lot, pour une raison ou pour une autre. Comment les détecter de manière systématique? D’autre part, que faire lorsqu’une donnée est manquante? Peut-on l’imputer? Comment?</p>
<p><strong><a href="12-series-temporelles.html">Chapitre&nbsp;<span>13</span></a> - Les séries temporelles</strong>. Les capteurs modernes permettent de générer des données en fonction du temps. Que ce soit des données météorologiques enregistrées quotidiennement ou des données de teneur en eau enregistrées au 5 secondes, les données en fonction du temps forment un signal. Comment analyser ces signaux?</p>
<p><strong><a href="13-autoapprentissage.html">Chapitre&nbsp;<span>14</span></a> - L’autoapprentissage</strong>. Les applications de l’intelligence artificielle ne sont limitées que par votre imagination. Encore faut-il l’utiliser… intelligemment.</p>
<p><strong><a href="14-donnees-spatiales.html">Chapitre&nbsp;<span>15</span></a> - Les données spatiales</strong>. Ce chapitre porte sur l’utilisation de R comme système d’information géographique de base. Nous utiliserons aussi l’autoapprentissage et les modèles déterministes comme outils d’interpolation spatial.</p>
<p><strong><a href="15-modelisation.html">Chapitre&nbsp;<span>16</span></a> - La modélisation mécanistique (section facultative)</strong>. Les modèles sont des maquettes simplifiées. Comment utiliser les équations différentielles ordinaires pour créer ces maquettes?</p>
<p>Si les chapitres 3 à 5 peuvent être considérés comme fondamentaux pour bien maîtriser R, les autres peuvent être feuilletés à la pièce, bien qu’ils forment une suite logique.</p>
<p>Chaque chapitre de ce manuel est rédigé en format <em>Quarto</em>, dans un environnement RStudio. Pour exécuter les commandes, les vous pourrez soit copier-coller les commandes dans R (ou RStudio), soit <a href="https://github.com/afsilvad/ecologie-mathematique-R">télécharger les fichiers-sources</a> et exécuter les blocs de code.</p>
<p>Le manuel original était rédigé au format <em>R Markdown</em> et est toujours disponible à l’<a href="https://github.com/essicolo/ecologie-mathematique-R">adresse suivante</a>.</p>
</section>
<section id="objectifs-généraux" class="level2" data-number="1.6">
<h2 data-number="1.6" class="anchored" data-anchor-id="objectifs-généraux"><span class="header-section-number">1.6</span> Objectifs généraux</h2>
<p>À la fin du cours, vous serez en mesure:</p>
<ul>
<li>de programmer en langage R</li>
<li>d’importer, de manipuler (sélection des colonnes, filtres, sommaires statistiques) et d’exporter des tableaux</li>
<li>de générer des graphiques d’utilisation commune</li>
<li>de vous assurer que vos calculs soient auditables et reproductibles dans une perspective de science ouverte</li>
<li>d’appréhender des données écologiques et agronomiques à l’aide de tests statistiques fréquentiels</li>
<li>d’explorer par vous-même les possibilités offertes par la communauté de développement de modules R</li>
<li>d’explorer les données à l’aide des outils de l’écologie numérique (association, partitionnement et ordination)</li>
<li>d’imputer des données manquantes dans un tableau et de détecter des valeurs aberrantes</li>
<li>de créer un modèle d’autoapprentissage</li>
<li>d’effectuer une analyse de série temporelle</li>
<li>d’interpoler des données spatiales</li>
<li>de modéliser des équations différentielles ordinaires</li>
</ul>
</section>
<section id="lectures-complémentaires" class="level2" data-number="1.7">
<h2 data-number="1.7" class="anchored" data-anchor-id="lectures-complémentaires"><span class="header-section-number">1.7</span> Lectures complémentaires</h2>
<section id="écologie-mathématique" class="level3" data-number="1.7.1">
<h3 data-number="1.7.1" class="anchored" data-anchor-id="écologie-mathématique"><span class="header-section-number">1.7.1</span> Écologie mathématique</h3>
<ul>
<li><a href="https://onlinelibrary.wiley.com/doi/book/10.1002/9781119991595">How to be a quantitative ecologist</a>. Jason Mathipoulos vous prend par la main pour découvrir les notions de mathématiques fondamentales en écologie, appliquées avec le langage R.<br>
</li>
<li><a href="https://www.elsevier.com/books/numerical-ecology/legendre/978-0-444-53868-0">Numerical ecology</a>. L’ouvrage hautement détaillé des frères Legendre est non seulement fondamental, mais aussi fondateur d’une science qui évolue encore aujourd’hui: l’analyse des données écologiques.</li>
<li><a href="http://www.springer.com/us/book/9781402086236">A practical guide to ecological modelling</a>. Soetaert et Herman portent une attention particulière à la présentation des principes de modélisation dans un langage accessible - ce qui est rarement le cas dans le domaine de la modélisation. Les modèles présentés concernent principalement les bilans de masse, en termes de systèmes de réactions chimiques et de relations biologiques.</li>
<li><a href="http://www.documentation.ird.fr/hor/fdi:010050350">Modélisation mathématique en écologie</a>. Rare livre en modélisation écologique publié en français, la première partie s’attarde aux concepts mathématiques, alors que la deuxième planche à les appliquer. Si le haut niveau d’abstraction de la première partie vous rebute, n’hésitez pas débuter par la seconde partie et de vous référer à la première au besoin.</li>
<li><a href="https://www.elsevier.com/books/a-new-ecology/jorgensen/978-0-444-53160-5">A new ecology: systems perspective</a>. Principalement grâce au soleil, la Terre forme un ensemble de gradients d’énergie qui se déclinent en des systèmes d’une étonnante complexité. C’est ainsi que le regretté Sven Erik Jørgensen (1934-2016, <a href="#fig-intro-jorgensen">Figure&nbsp;<span>1.3</span></a>)) et ses collaborateurs décrivent les écosystèmes dans cet ouvrage qui fait suite aux travaux fondateurs de Howard Thomas Odum.</li>
<li>Ecological engineering. Principle and Practice.</li>
<li>Ecological processes handbook.</li>
<li>Modeling complex ecological dynamics</li>
</ul>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div id="fig-intro-jorgensen" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="images/01_sven-jorgensen.png" class="img-fluid figure-img" style="width:25.0%"></p>
<figcaption class="figure-caption">Figure&nbsp;1.3: Sven Erik Jørgensen, Source: <a href="http://scitechconnect.elsevier.com/in-memoriam-of-dr-sven-erik-jorgensen/">Elsevier</a>.</figcaption>
</figure>
</div>
</div>
</div>
</section>
<section id="programmation" class="level3" data-number="1.7.2">
<h3 data-number="1.7.2" class="anchored" data-anchor-id="programmation"><span class="header-section-number">1.7.2</span> Programmation</h3>
<ul>
<li><a href="https://r4ds.hadley.nz/">R for data science (2e)</a>. L’analyse de données est une branche importante de l’écologie mathématique. Ce manuel traite des matrices et la manipulation de données chapitre 3), de la visualisation (chapitre 4) ainsi que de l’apprentissage automatique (chapitre 14). <em>R for data science (2e)</em> repasse ces sujets plus en profondeur. En particulier, l’ouvrage de <a href="https://github.com/garrettgman">Garrett Grolemund</a>, <a href="https://fosstodon.org/@hadleywickham">Hadley Wickham</a> et <a href="https://mine-cr.com/">Mine Çetinkaya-Rundel</a> offre une introduction au module graphique <code>ggplot2</code> et à <code>tidyverse</code>.</li>
<li><a href="https://link.springer.com/book/10.1007/978-3-319-71404-2">Numerical ecology with R</a>. Daniel Borcard enseigne l’écologie numérique à l’Université de Montréal. Son cours est condensé dans ce livre recettes voué à l’application des principes lourdement décrits dans <a href="https://www.elsevier.com/books/numerical-ecology/legendre/978-0-444-53868-0">Numerical ecology</a>.</li>
</ul>
</section>
<section id="divers" class="level3" data-number="1.7.3">
<h3 data-number="1.7.3" class="anchored" data-anchor-id="divers"><span class="header-section-number">1.7.3</span> Divers</h3>
<ul>
<li><a href="http://www.thefunctionalart.com/p/the-truthful-art-book.html">The truthful art</a>. Dans cet ouvrage, Alberto Cairo s’intéresse à l’utilisation des données et de leurs présentations pour fournir une information adéquate à différents publics.</li>
</ul>
</section>
</section>
<section id="besoin-daide" class="level2" data-number="1.8">
<h2 data-number="1.8" class="anchored" data-anchor-id="besoin-daide"><span class="header-section-number">1.8</span> Besoin d’aide?</h2>
<p>Les ouvrages de référence reconnus vous offrent des bases solides sur lesquelles vous pouvez vous appuyer dans vos travaux. Mais au-delà des principes, au jour le jour, vous vous buterez immanquablement à toutes sortes de petits problèmes. Quel module utiliser pour cette tâche précise? Que veut dire ce message d’erreur? Comment interpréter ce résultat? Pour tous les petits accrocs du quotidien en calcul scientifique, internet offre de nombreuses ressources qui sont très hétérogènes en qualité. Vous apprendrez à reconnaître les ressources fiables à celles qui sont douteuses. Les plateformes basées sur Stack Exchange, comme <a href="https://stackoverflow.com">Stack Overflow</a> et <a href="https://stats.stackexchange.com">Cross Validated</a>, m’ont souvent été d’une aide précieuse. Vous aurez avantage à vous construire une petite banque d’information avec un logiciel de prise de notes en collectant des liens, en prenant en notes certaines recettes et en suivant des sites d’intérêt avec des flux RSS.</p>
</section>
<section id="à-propos-de-lauteur" class="level2" data-number="1.9">
<h2 data-number="1.9" class="anchored" data-anchor-id="à-propos-de-lauteur"><span class="header-section-number">1.9</span> À propos de l’auteur</h2>
<p>Je m’appelle Serge-Étienne Parent. Je suis ingénieur écologue et professeur adjoint au Département des sols et de génie agroalimentaire de l’Université Laval, Québec, Canada. Je crois que la science est le meilleur moyen d’appréhender le monde pour prendre des décisions avisées.</p>
</section>
<section id="un-cours-complémentaire-à-dautres-cours" class="level2" data-number="1.10">
<h2 data-number="1.10" class="anchored" data-anchor-id="un-cours-complémentaire-à-dautres-cours"><span class="header-section-number">1.10</span> Un cours complémentaire à d’autres cours</h2>
<p>Ce cours a été développé pour ouvrir des perspectives mathématiques en écologie et en agronomie à la FSAA de l’Université Laval. Il est complémentaire à certains cours offerts dans d’autres institutions académiques au Québec, dont ceux-ci.</p>
<ul>
<li><a href="https://admission.umontreal.ca/cours-et-horaires/cours/bio-2041/">BIO2041. Biostatistiques 1</a>, Université de Montréal</li>
<li><a href="https://admission.umontreal.ca/cours-et-horaires/cours/BIO-2042/">BIO2042. Biostatistiques 2</a>, Université de Montréal</li>
<li><a href="https://github.com/EcoNumUdS/BIO109">BIO109. Introduction à la programmation scientifique</a>, Université de Sherbrooke</li>
<li><a href="https://github.com/EcoNumUdS/BIO500">BIO500. Méthodes en écologie computationnelle</a>, Université de Sherbrooke.</li>
</ul>
</section>
<section id="contribuer-au-manuel" class="level2" data-number="1.11">
<h2 data-number="1.11" class="anchored" data-anchor-id="contribuer-au-manuel"><span class="header-section-number">1.11</span> Contribuer au manuel</h2>
<p>Je suis ouvert aux commentaires et suggestions. Pour contribuer directement, dirigez-vous sur le dépôt du manuel sur <a href="https://github.com">GitHub</a>, puis ouvrez une <em>Issue</em> pour en discuter. Créez une nouvelle branche (<em>fork</em>), effectuez les modifications, puis lancer une requête de fusion (<em>pull request</em>).</p>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./index.html" class="pagination-link">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text">Préface</span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./02-R.html" class="pagination-link">
        <span class="nav-page-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">La science des données avec R</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->



</body></html>